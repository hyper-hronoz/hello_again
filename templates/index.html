<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Варианты выбора</title>
</head>
<body>
    <section class="container-sm" style="max-width: 600px;">
        <h1>Загрузка фотографии</h1>
        <h2>Для участия в миссии</h2>
        <form method="POST" action="/upload" id="form" enctype = "multipart/form-data">
            <div class="form-group">
                <label for="formFileDisabled" class="form-label">Disabled file input example</label>
                <input class="form-control" type="file" id="form_file" name="file"/>
            </div>
            <img src="{{link}}" alt="" class="w-100 mt-2" id="image_container" style="background-size: contain; background-position: center;">
            <button type="submit" class="btn btn-primary mt-2">Submit</button>
          </form>
    </section>

    <!-- <script>
        const image_input = document.querySelector("#form_file")
        const image_container = document.querySelector("#image_container")
        const form_width = document.querySelector("#form").scrollWidth

        image_input.addEventListener('change', function() {

            const reader = new FileReader()
     
            reader.addEventListener('load', function() {
                const image = new Image()
                image.src = reader.result
                image_container.src = image.src
                image.addEventListener("load", () => {
                    image_container.style.height = image.height * (form_width / image.width) + "px"
                    image_container.style.display = "block" 
                });
            })

            reader.readAsDataURL(this.files[0])
        });
    </script> -->
</body>
</html>